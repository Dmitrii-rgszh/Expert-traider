# Backend configuration
ENV=dev
CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173,https://app.glazok.site,https://www.glazok.site
# Use Postgres in docker-compose; fallback SQLite for local quick run
# DATABASE_URL=postgresql+psycopg2://postgres:postgres@db:5432/auto_trader
DATABASE_URL=sqlite:///./app.db
# Set to true to skip loading transformer models (useful for tests/CI)
# DISABLE_TRANSFORMERS=true
# Optional path to a pre-trained baseline artifact produced by scripts/train_baseline.py
# BASELINE_MODEL_PATH=backend/models/baseline.joblib
# Optional sentiment model ID from Hugging Face (public by default)
# SENTIMENT_MODEL_ID=blanchefort/rubert-base-cased-sentiment
# If model requires auth, provide token
# HUGGINGFACE_TOKEN=hf_xxx
# Telegram Miniapp validation and rate limiting
# TELEGRAM_BOT_TOKEN=123456:ABCDEF
# TELEGRAM_INIT_MAX_AGE_SECONDS=86400
# TELEGRAM_DAILY_REQUEST_CAP=100
# TELEGRAM_REQUEST_WINDOW_SECONDS=86400
# WEBAPP_URL=https://app.glazok.site

# --- External data sources ---
# Optional credentials for MOEX ISS endpoints (basic auth only when needed)
MOEX_ISS_BASE_URL=https://iss.moex.com/iss
MOEX_NEWS_LANG=ru
MOEX_NEWS_LIMIT=100
# MOEX_NEWS_CATEGORY=sitenews
# MOEX_API_USER=login
# MOEX_API_PASSWORD=secret
# MOEX_HTTP_TIMEOUT=20

# Sanctions API (e.g., OpenSanctions). Token is optional for public datasets
SANCTIONS_API_BASE_URL=https://api.opensanctions.org
SANCTIONS_API_ENDPOINT=/datasets/default/en/entities/
SANCTIONS_API_DATASET=default
SANCTIONS_API_PAGE_SIZE=200
SANCTIONS_SECID_FIELDS=secid,isin,ticker
# SANCTIONS_API_TOKEN=apikey
# SANCTIONS_API_QUERY=country:RU

# --- Strong_q80 super-trader (intraday_v2 1m Q4) ---
# STRONG_Q80_LONG_CHECKPOINT=logs/temporal_cnn_intraday_v2_strong_q80/tcn_window_q4/checkpoints/tcn-window_q4-epoch=01.ckpt
# STRONG_Q80_SHORT_CHECKPOINT=logs/temporal_cnn_intraday_v2_strong_q80_short/tcn_full_window/checkpoints/tcn-full_window-epoch=01.ckpt
# STRONG_Q80_SEQ_LEN=32
# STRONG_Q80_DEVICE=cpu
# STRONG_Q80_FEATURE_COLUMNS=long_pnl_pct,short_pnl_pct,atr_14,atr_ratio_14_30,atr_ratio_5_14,bearish_engulfing,bollinger_band_pct,bullish_engulfing,candle_body_pct,ema_ratio_12_26,ema_ratio_20_60,ema_ratio_5_20,intraday_range_pct,lower_shadow_pct,macd_hist,macd_line,macd_signal,price_position_20,return_1,return_vs_imoex,return_vs_rts,rsi_14,sma_ratio_5_20,stoch_d_3,stoch_k_14,upper_shadow_pct,volatility_120,volatility_20,volatility_60,volume_zscore_20,horizon_30,horizon_60,horizon_120,news_count_60m,risk_alerts_60m,news_count_240m,risk_alerts_240m,news_count_1440m,risk_alerts_1440m,fund_earnings_yoy_value,fund_earnings_yoy_days_since,fund_dividend_yield_value,fund_dividend_yield_days_since,fund_net_debt_to_ebitda_value,fund_net_debt_to_ebitda_days_since,news_bullish_60m,news_bearish_60m,news_rule_score_avg_60m,news_event_count_60m,news_tfidf_60m_00,news_tfidf_60m_01,news_tfidf_60m_02,news_tfidf_60m_03,news_tfidf_60m_04,news_tfidf_60m_05,news_tfidf_60m_06,news_tfidf_60m_07,news_tfidf_60m_08,news_tfidf_60m_09,news_tfidf_60m_10,news_tfidf_60m_11,news_tfidf_60m_12,news_tfidf_60m_13,news_tfidf_60m_14,news_tfidf_60m_15,news_tfidf_60m_16,news_tfidf_60m_17,news_tfidf_60m_18,news_tfidf_60m_19,news_tfidf_60m_20,news_tfidf_60m_21,news_tfidf_60m_22,news_tfidf_60m_23,news_tfidf_60m_24,news_tfidf_60m_25,news_tfidf_60m_26,news_tfidf_60m_27,news_tfidf_60m_28,news_tfidf_60m_29,news_tfidf_60m_30,news_tfidf_60m_31,news_bullish_240m,news_bearish_240m,news_rule_score_avg_240m,news_event_count_240m,news_tfidf_240m_00,news_tfidf_240m_01,news_tfidf_240m_02,news_tfidf_240m_03,news_tfidf_240m_04,news_tfidf_240m_05,news_tfidf_240m_06,news_tfidf_240m_07,news_tfidf_240m_08,news_tfidf_240m_09,news_tfidf_240m_10,news_tfidf_240m_11,news_tfidf_240m_12,news_tfidf_240m_13,news_tfidf_240m_14,news_tfidf_240m_15,news_tfidf_240m_16,news_tfidf_240m_17,news_tfidf_240m_18,news_tfidf_240m_19,news_tfidf_240m_20,news_tfidf_240m_21,news_tfidf_240m_22,news_tfidf_240m_23,news_tfidf_240m_24,news_tfidf_240m_25,news_tfidf_240m_26,news_tfidf_240m_27,news_tfidf_240m_28,news_tfidf_240m_29,news_tfidf_240m_30,news_tfidf_240m_31,news_bullish_720m,news_bearish_720m,news_rule_score_avg_720m,news_event_count_720m,news_tfidf_720m_00,news_tfidf_720m_01,news_tfidf_720m_02,news_tfidf_720m_03,news_tfidf_720m_04,news_tfidf_720m_05,news_tfidf_720m_06,news_tfidf_720m_07,news_tfidf_720m_08,news_tfidf_720m_09,news_tfidf_720m_10,news_tfidf_720m_11,news_tfidf_720m_12,news_tfidf_720m_13,news_tfidf_720m_14,news_tfidf_720m_15,news_tfidf_720m_16,news_tfidf_720m_17,news_tfidf_720m_18,news_tfidf_720m_19,news_tfidf_720m_20,news_tfidf_720m_21,news_tfidf_720m_22,news_tfidf_720m_23,news_tfidf_720m_24,news_tfidf_720m_25,news_tfidf_720m_26,news_tfidf_720m_27,news_tfidf_720m_28,news_tfidf_720m_29,news_tfidf_720m_30,news_tfidf_720m_31,label_long_strong,label_short_strong
